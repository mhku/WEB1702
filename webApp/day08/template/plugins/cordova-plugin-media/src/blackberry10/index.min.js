var audioObjects={},mediaErrorsHandled=false;function handleMediaErrors(){var a=qnx.webplatform.getWebViews()[0],b=a.onDialogRequested;if(!mediaErrorsHandled){a.allowWebEvent("DialogRequested");a.onDialogRequested=undefined;a.onDialogRequested=function(c){var d=JSON.parse(c);if(d.dialogType==="MediaError"){return'{"setPreventDefault": true}'}b(c)};mediaErrorsHandled=true}}module.exports={create:function(e,b,c,d){var a=new PluginResult(c,d),f;if(!c[0]){a.error("Media Object id was not sent in arguments");return}f=JSON.parse(decodeURIComponent(c[0]));if(!c[1]){audioObjects[f]=new Audio()}else{audioObjects[f]=new Audio(JSON.parse(decodeURIComponent(c[1])))}handleMediaErrors();a.ok()},startPlayingAudio:function(f,b,c,d){var e,g,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}g=JSON.parse(decodeURIComponent(c[0]));e=audioObjects[g];if(!e){a.error("Audio object has not been initialized")}else{e.play();a.ok()}},stopPlayingAudio:function(f,b,c,d){var e,g,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}g=JSON.parse(decodeURIComponent(c[0]));e=audioObjects[g];if(!e){a.error("Audio Object has not been initialized");return}e.pause();e.currentTime=0;a.ok()},seekToAudio:function(h,b,c,d){var f,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}f=audioObjects[JSON.parse(decodeURIComponent(c[0]))];if(!f){a.error("Audio Object has not been initialized")}else{if(!c[1]){a.error("Media seek time argument not found")}else{try{f.currentTime=JSON.parse(decodeURIComponent(c[1]))/1000;a.ok()}catch(g){a.error("Error seeking audio: "+g)}}}},pausePlayingAudio:function(f,b,c,d){var e,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}e=audioObjects[JSON.parse(decodeURIComponent(c[0]))];if(!e){a.error("Audio Object has not been initialized");return}e.pause()},getCurrentPositionAudio:function(f,b,c,d){var e,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}e=audioObjects[JSON.parse(decodeURIComponent(c[0]))];if(!e){a.error("Audio Object has not been initialized");return}a.ok(e.currentTime)},getDuration:function(f,b,c,d){var e,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}e=audioObjects[JSON.parse(decodeURIComponent(c[0]))];if(!e){a.error("Audio Object has not been initialized");return}a.ok(e.duration)},startRecordingAudio:function(e,b,c,d){var a=new PluginResult(c,d);a.error("Not supported")},stopRecordingAudio:function(e,b,c,d){var a=new PluginResult(c,d);a.error("Not supported")},release:function(f,b,c,d){var e,g,a=new PluginResult(c,d);if(!c[0]){a.error("Media Object id was not sent in arguments");return}g=JSON.parse(decodeURIComponent(c[0]));e=audioObjects[g];if(e){if(e.src!==""){e.src=undefined}audioObjects[g]=undefined}a.ok()}};