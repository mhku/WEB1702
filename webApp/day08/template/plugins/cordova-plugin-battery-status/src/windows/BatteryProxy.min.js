var stopped;function handleResponse(c,b,a){var d=JSON.parse(a);if(d.hasOwnProperty("exceptionMessage")){b(d.exceptionMessage);return}c(d,{keepCallback:true})}var Battery={start:function(h,a,c,f){function d(i,e){handleResponse(i,e,BatteryStatus.BatteryStatus.start())}function b(i,e){return BatteryStatus.BatteryStatus.getBatteryStatusChangeEvent().done(function(j){if(stopped){return}handleResponse(i,e,j);setTimeout(function(){b(i,e)},0)},function(j){a(j)})}if(!WinJS.Utilities.isPhone){a("The operation is not supported on Windows Desktop devices.");return}stopped=false;try{d(h,a);b(h,a)}catch(g){a(g)}},stop:function(){if(!WinJS.Utilities.isPhone){return}stopped=true;BatteryStatus.BatteryStatus.stop()}};require("cordova/exec/proxy").add("Battery",Battery);