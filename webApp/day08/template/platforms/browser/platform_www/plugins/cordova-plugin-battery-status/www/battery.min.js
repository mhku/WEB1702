cordova.define("cordova-plugin-battery-status.battery",function(d,f,a){var i=d("cordova"),e=d("cordova/exec");var g=5;var j=20;var b=function(){this._level=null;this._isPlugged=null;this.channels={batterystatus:i.addWindowEventHandler("batterystatus"),batterylow:i.addWindowEventHandler("batterylow"),batterycritical:i.addWindowEventHandler("batterycritical")};for(var k in this.channels){this.channels[k].onHasSubscribersChange=b.onHasSubscribersChange}};function c(){return h.channels.batterystatus.numHandlers+h.channels.batterylow.numHandlers+h.channels.batterycritical.numHandlers}b.onHasSubscribersChange=function(){if(this.numHandlers===1&&c()===1){e(h._status,h._error,"Battery","start",[])}else{if(c()===0){e(null,null,"Battery","stop",[])}}};b.prototype._status=function(k){if(k){if(h._level!==k.level||h._isPlugged!==k.isPlugged){if(k.level===null&&h._level!==null){return}i.fireWindowEvent("batterystatus",k);if(!k.isPlugged){if(h._level>g&&k.level<=g){i.fireWindowEvent("batterycritical",k)}else{if(h._level>j&&k.level<=j){i.fireWindowEvent("batterylow",k)}}}h._level=k.level;h._isPlugged=k.isPlugged}}};b.prototype._error=function(k){console.log("Error initializing Battery: "+k)};var h=new b();a.exports=h});