cordova.define("cordova-plugin-device-orientation.compass",function(e,h,d){var k=e("cordova/argscheck"),g=e("cordova/exec"),j=e("cordova/utils"),a=e("./CompassHeading"),c=e("./CompassError"),f={},i=null,b={getCurrentHeading:function(l,n,o){k.checkArgs("fFO","compass.getCurrentHeading",arguments);var p=function(q){var r=new a(q.magneticHeading,q.trueHeading,q.headingAccuracy,q.timestamp);l(r)};var m=n&&function(q){var r=new c(q);n(r)};g(p,m,"Compass","getHeading",[o])},watchHeading:function(l,m,n){k.checkArgs("fFO","compass.watchHeading",arguments);var q=(n!==undefined&&n.frequency!==undefined)?n.frequency:100;var o=(n!==undefined&&n.filter!==undefined)?n.filter:0;var r=j.createUUID();if(o>0){f[r]="iOS";b.getCurrentHeading(l,m,n)}else{f[r]=window.setInterval(function(){b.getCurrentHeading(l,m)},q)}if(cordova.platformId==="browser"&&!i){var p=new Event("deviceorientation");i=window.setInterval(function(){window.dispatchEvent(p)},200)}return r},clearWatch:function(l){if(l&&f[l]){if(f[l]!="iOS"){clearInterval(f[l])}else{g(null,null,"Compass","stopHeading",[])}delete f[l];if(i&&Object.keys(f).length===0){window.clearInterval(i);i=null}}}};d.exports=b});