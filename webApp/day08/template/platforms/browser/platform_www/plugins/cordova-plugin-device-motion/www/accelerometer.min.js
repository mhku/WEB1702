cordova.define("cordova-plugin-device-motion.accelerometer",function(c,f,b){var o=c("cordova/argscheck"),n=c("cordova/utils"),e=c("cordova/exec"),q=c("./Acceleration");var j=false;var d={};var l=[];var g=null;var k=null;function a(){e(function(s){var u=l.slice(0);g=new q(s.x,s.y,s.z,s.timestamp);for(var t=0,r=u.length;t<r;t++){u[t].win(g)}},function(u){var t=l.slice(0);for(var s=0,r=t.length;s<r;s++){t[s].fail(u)}},"Accelerometer","start",[]);j=true}function m(){e(null,null,"Accelerometer","stop",[]);g=null;j=false}function i(s,r){return{win:s,fail:r}}function h(s){var r=l.indexOf(s);if(r>-1){l.splice(r,1);if(l.length===0){m()}}}var p={getCurrentAcceleration:function(r,t,u){o.checkArgs("fFO","accelerometer.getCurrentAcceleration",arguments);if(cordova.platformId==="windowsphone"){e(function(x){g=new q(x.x,x.y,x.z,x.timestamp);r(g)},function(x){t(x)},"Accelerometer","getCurrentAcceleration",[]);return}var w;var v=function(x){h(w);r(x)};var s=function(x){h(w);if(t){t(x)}};w=i(v,s);l.push(w);if(!j){a()}},watchAcceleration:function(r,t,u){o.checkArgs("fFO","accelerometer.watchAcceleration",arguments);var w=(u&&u.frequency&&typeof u.frequency=="number")?u.frequency:10000;var x=n.createUUID();var v=i(function(){},function(y){h(v);if(t){t(y)}});l.push(v);d[x]={timer:window.setInterval(function(){if(g){r(g)}},w),listeners:v};if(j){if(g){r(g)}}else{a()}if(cordova.platformId==="browser"&&!k){var s=new Event("devicemotion");k=window.setInterval(function(){window.dispatchEvent(s)},200)}return x},clearWatch:function(r){if(r&&d[r]){window.clearInterval(d[r].timer);h(d[r].listeners);delete d[r];if(k&&Object.keys(d).length===0){window.clearInterval(k);k=null}}}};b.exports=p});