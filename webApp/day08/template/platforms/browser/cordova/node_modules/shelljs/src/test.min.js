var common=require("./common");var fs=require("fs");function _test(a,f){if(!f){common.error("no path given")}a=common.parseOptions(a,{b:"block",c:"character",d:"directory",e:"exists",f:"file",L:"link",p:"pipe",S:"socket"});var g=false;for(var c in a){if(a[c]===true){g=true;break}}if(!g){common.error("could not interpret expression")}if(a.link){try{return fs.lstatSync(f).isSymbolicLink()}catch(d){return false}}if(!fs.existsSync(f)){return false}if(a.exists){return true}var b=fs.statSync(f);if(a.block){return b.isBlockDevice()}if(a.character){return b.isCharacterDevice()}if(a.directory){return b.isDirectory()}if(a.file){return b.isFile()}if(a.pipe){return b.isFIFO()}if(a.socket){return b.isSocket()}}module.exports=_test;