var common=require("./common");var os=require("os");var fs=require("fs");function writeableDir(b){if(!b||!fs.existsSync(b)){return false}if(!fs.statSync(b).isDirectory()){return false}var a=b+"/"+common.randomFileName();try{fs.writeFileSync(a," ");common.unlinkSync(a);return b}catch(c){return false}}function _tempDir(){var a=common.state;if(a.tempDir){return a.tempDir}a.tempDir=writeableDir(os.tmpdir&&os.tmpdir())||writeableDir(os.tmpDir&&os.tmpDir())||writeableDir(process.env.TMPDIR)||writeableDir(process.env.TEMP)||writeableDir(process.env.TMP)||writeableDir(process.env["Wimp$ScrapDir"])||writeableDir("C:\\TEMP")||writeableDir("C:\\TMP")||writeableDir("\\TEMP")||writeableDir("\\TMP")||writeableDir("/tmp")||writeableDir("/var/tmp")||writeableDir("/usr/tmp")||writeableDir(".");return a.tempDir}module.exports=_tempDir;