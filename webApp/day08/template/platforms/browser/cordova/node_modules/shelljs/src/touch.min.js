var common=require("./common");var fs=require("fs");function _touch(b,a){b=common.parseOptions(b,{a:"atime_only",c:"no_create",d:"date",m:"mtime_only",r:"reference"});if(!a){common.error("no paths given")}if(Array.isArray(a)){a.forEach(function(c){touchFile(b,c)})}else{if(typeof a==="string"){touchFile(b,a)}else{common.error("file arg should be a string file path or an Array of string file paths")}}}function touchFile(f,d){var e=tryStatFile(d);if(e&&e.isDirectory()){return}if(!e&&f.no_create){return}fs.closeSync(fs.openSync(d,"a"));var c=new Date();var b=f.date||c;var g=f.date||c;if(f.reference){var a=tryStatFile(f.reference);if(!a){common.error("failed to get attributess of "+f.reference)}b=a.mtime;g=a.atime}else{if(f.date){b=f.date;g=f.date}}if(f.atime_only&&f.mtime_only){}else{if(f.atime_only){b=e.mtime}else{if(f.mtime_only){g=e.atime}}}fs.utimesSync(d,g,b)}module.exports=_touch;function tryStatFile(a){try{return fs.statSync(a)}catch(b){return null}};