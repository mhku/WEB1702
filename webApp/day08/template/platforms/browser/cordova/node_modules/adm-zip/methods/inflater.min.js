var Buffer=require("buffer").Buffer;function JSInflater(t){var x=32768,b=new Buffer(65536),z=0,q=null,j,e,h=0,d=0,g=-1,s=false,E=0,c=0,i,F,m,B,f=0,C=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],r=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function v(X,L,Z,Q,N,H){this.status=0;this.root=null;this.maxbit=0;var I,ad,T,P=[],af=[],Y=[],K=[],S={extra:0,bitcnt:0,lbase:0,next:null};T=this.root=null;for(var ac=0;ac<17;ac++){af[ac]=0;Y[ac]=0;P[ac]=0}for(ac=0;ac<288;ac++){K[ac]=0}I=L>256?X[256]:16;var O=-1;while(++O<L){af[X[O]]++}if(af[0]==L){return}for(var aa=1;aa<=16;aa++){if(af[aa]!=0){break}}var J=aa;for(ac=16;ac!=0;ac--){if(af[ac]!=0){break}}var M=ac;H<aa&&(H=aa);var R=1<<aa;for(;aa<ac;aa++,R<<=1){if((R-=af[aa])<0){this.status=2;this.maxbit=H;return}}if((R-=af[ac])<0){this.status=2;this.maxbit=H;return}af[ac]+=R;P[1]=aa=0;O=1;var V=2;while(--ac>0){P[V++]=(aa+=af[O++])}O=0;ac=0;do{(aa=X[O++])&&(K[P[aa]++]=ac)}while(++ac<L);L=P[M];P[0]=ac=0;O=0;var G=-1,U=Y[0]=0,ab=null,ae=0,ag=[];for(;J<=M;J++){var W=af[J];while(W-->0){while(J>U+Y[1+G]){U+=Y[1+G];G++;ae=(ae=M-U)>H?H:ae;if((ad=1<<(aa=J-U))>W+1){ad-=W+1;V=J;while(++aa<ae){if((ad<<=1)<=af[++V]){break}ad-=af[V]}}if(U+aa>I&&U<I){aa=I-U}ae=1<<aa;Y[1+G]=aa;ab=[];while(ab.length<ae){ab.push({extra:0,bitcnt:0,lbase:0,next:null})}if(T==null){T=this.root={next:null,list:null}}else{T=T.next={next:null,list:null}}T.next=null;T.list=ab;ag[G]=ab;if(G>0){P[G]=ac;S.bitcnt=Y[G];S.extra=16+aa;S.next=ab;aa=(ac&((1<<U)-1))>>(U-Y[G]);ag[G-1][aa].extra=S.extra;ag[G-1][aa].bitcnt=S.bitcnt;ag[G-1][aa].lbase=S.lbase;ag[G-1][aa].next=S.next}}S.bitcnt=J-U;if(O>=L){S.extra=99}else{if(K[O]<Z){S.extra=(K[O]<256?16:15);S.lbase=K[O++]}else{S.extra=N[K[O]-Z];S.lbase=Q[K[O++]-Z]}}ad=1<<(J-U);for(aa=ac>>U;aa<ae;aa+=ad){ab[aa].extra=S.extra;ab[aa].bitcnt=S.bitcnt;ab[aa].lbase=S.lbase;ab[aa].next=S.next}for(aa=1<<(J-1);(ac&aa)!=0;aa>>=1){ac^=aa}ac^=aa;while((ac&((1<<U)-1))!=P[G]){U-=Y[G];G--}}}this.maxbit=Y[1];this.status=((R!=0&&M!=1)?1:0)}function y(G){while(d<G){h|=t[f++]<<d;d+=8}return h}function a(G){d-=G;return h>>=G}function n(H){while(d<H){h|=t[f++]<<d;d+=8}var G=h&C[H];h>>=H;d-=H;return G}function D(L,J,H){var I,G;if(H==0){return 0}var K=0;for(;;){G=i.list[y(m)&C[m]];I=G.extra;while(I>16){if(I==99){return -1}a(G.bitcnt);I-=16;G=G.next[y(I)&C[I]];I=G.extra}a(G.bitcnt);if(I==16){z&=x-1;L[J+K++]=b[z++]=G.lbase;if(K==H){return H}continue}if(I==15){break}E=G.lbase+n(I);G=F.list[y(B)&C[B]];I=G.extra;while(I>16){if(I==99){return -1}a(G.bitcnt);I-=16;G=G.next[y(I)&C[I]];I=G.extra}a(G.bitcnt);c=z-G.lbase-n(I);while(E>0&&K<H){E--;c&=x-1;z&=x-1;L[J+K++]=b[z++]=b[c++]}if(K==H){return H}}g=-1;return K}function u(J,H,G){a(d&7);var I=n(16);if(I!=((~n(16))&65535)){return -1}E=I;I=0;while(E>0&&I<G){E--;z&=x-1;J[H+I++]=b[z++]=n(8)}if(E==0){g=-1}return I}function l(M,K,H){var J=0;if(q==null){var L=[];for(var I=0;I<144;I++){L[I]=8}for(;I<256;I++){L[I]=9}for(;I<280;I++){L[I]=7}for(;I<288;I++){L[I]=8}e=7;var G=new v(L,288,257,p,A,e);if(G.status!=0){return -1}q=G.root;e=G.maxbit;for(I=0;I<30;I++){L[I]=5}J=5;G=new v(L,30,0,w,r,J);if(G.status>1){q=null;return -1}j=G.root;J=G.maxbit}i=q;F=j;m=e;B=J;return D(M,K,H)}function k(S,G,T){var O=new Array(572);for(var H=0;H<572;H++){O[H]=0}var M=257+n(5),P=1+n(5),K=4+n(4);if(M>286||P>30){return -1}for(var I=0;I<K;I++){O[o[I]]=n(3)}for(;I<19;I++){O[o[I]]=0}m=7;var R=new v(O,19,19,null,null,m);if(R.status!=0){return -1}i=R.root;m=R.maxbit;var Q=M+P,J=0,L=0;while(J<Q){var N=i.list[y(m)&C[m]];I=N.bitcnt;a(I);I=N.lbase;if(I<16){O[J++]=L=I}else{if(I==16){I=3+n(2);if(J+I>Q){return -1}while(I-->0){O[J++]=L}}else{if(I==17){I=3+n(3);if(J+I>Q){return -1}while(I-->0){O[J++]=0}L=0}else{I=11+n(7);if(J+I>Q){return -1}while(I-->0){O[J++]=0}L=0}}}}m=9;R=new v(O,M,257,p,A,m);m==0&&(R.status=1);if(R.status!=0){return -1}i=R.root;m=R.maxbit;for(J=0;J<P;J++){O[J]=O[J+M]}B=6;R=new v(O,P,0,w,r,B);F=R.root;B=R.maxbit;if((B==0&&M>257)||R.status!=0){return -1}return D(S,G,T)}return{inflate:function(G){i=null;var I=G.length,J=0,H;while(J<I){if(s&&g==-1){return}if(E>0){if(g!=0){while(E>0&&J<I){E--;c&=x-1;z&=x-1;G[J++]=(b[z++]=b[c++])}}else{while(E>0&&J<I){E--;z&=x-1;G[J++]=(b[z++]=n(8))}E==0&&(g=-1)}if(J==I){return}}if(g==-1){if(s){break}s=n(1)!=0;g=n(2);i=null;E=0}switch(g){case 0:H=u(G,J,I-J);break;case 1:H=i!=null?D(G,J,I-J):l(G,J,I-J);break;case 2:H=i!=null?D(G,J,I-J):k(G,J,I-J);break;default:H=-1;break}if(H==-1){return}J+=H}}}}module.exports=function(b){var a=require("zlib");return{inflateAsync:function(f){var c=a.createInflateRaw(),e=[],d=0;c.on("data",function(g){e.push(g);d+=g.length});c.on("end",function(){var j=new Buffer(d),g=0;j.fill(0);for(var k=0;k<e.length;k++){var h=e[k];h.copy(j,g);g+=h.length}f&&f(j)});c.end(b)},inflate:function(d){var c={x:new JSInflater(b)};c.x.inflate(d);delete (c.x)}}};