var fs=require("fs"),path=require("path");var platforms={amazon_fireos:{www_dir:"assets/www"},android:{www_dir:"assets/www"},blackberry10:{www_dir:"www"},browser:{www_dir:"www"},firefoxos:{www_dir:"www"},ios:{www_dir:"www"},ubuntu:{www_dir:"www"},windows:{www_dir:"www"},wp8:{www_dir:"www"}};function cordovaProjectRoot(c){if(!c){var f=process.env.PWD;var e=process.cwd();if(f&&f!=e&&f!="undefined"){return cordovaProjectRoot(f)||cordovaProjectRoot(e)}return cordovaProjectRoot(e)}var g=null;for(var d=0;d<1000;++d){var a=isRootDir(c);if(a===2){return c}if(a===1){g=c}var b=path.normalize(path.join(c,".."));if(b==c){return g}c=b}return null}function getPlatformWwwRoot(c,b){var a=platforms[b];if(!a){throw new Error("Unrecognized platform: "+b)}return path.join(c,"platforms",b,a.www_dir)}function isRootDir(a){if(fs.existsSync(path.join(a,"www"))){if(fs.existsSync(path.join(a,"config.xml"))){if(fs.existsSync(path.join(a,"platforms"))){return 2}else{return 1}}if(fs.existsSync(path.join(a,"www","config.xml"))){return 1}}return 0}module.exports={cordovaProjectRoot:cordovaProjectRoot,getPlatformWwwRoot:getPlatformWwwRoot,platforms:platforms};