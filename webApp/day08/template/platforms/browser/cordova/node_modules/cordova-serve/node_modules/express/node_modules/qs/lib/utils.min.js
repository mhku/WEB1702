var internals={};internals.hexTable=new Array(256);for(var h=0;h<256;++h){internals.hexTable[h]="%"+((h<16?"0":"")+h.toString(16)).toUpperCase()}exports.arrayToObject=function(d,b){var e=b.plainObjects?Object.create(null):{};for(var c=0,a=d.length;c<a;++c){if(typeof d[c]!=="undefined"){e[c]=d[c]}}return e};exports.merge=function(i,g,b){if(!g){return i}if(typeof g!=="object"){if(Array.isArray(i)){i.push(g)}else{if(typeof i==="object"){i[g]=true}else{i=[i,g]}}return i}if(typeof i!=="object"){i=[i].concat(g);return i}if(Array.isArray(i)&&!Array.isArray(g)){i=exports.arrayToObject(i,b)}var e=Object.keys(g);for(var a=0,d=e.length;a<d;++a){var c=e[a];var f=g[c];if(!Object.prototype.hasOwnProperty.call(i,c)){i[c]=f}else{i[c]=exports.merge(i[c],f,b)}}return i};exports.decode=function(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(a){return b}};exports.encode=function(e){if(e.length===0){return e}if(typeof e!=="string"){e=""+e}var b="";for(var d=0,a=e.length;d<a;++d){var f=e.charCodeAt(d);if(f===45||f===46||f===95||f===126||(f>=48&&f<=57)||(f>=65&&f<=90)||(f>=97&&f<=122)){b+=e[d];continue}if(f<128){b+=internals.hexTable[f];continue}if(f<2048){b+=internals.hexTable[192|(f>>6)]+internals.hexTable[128|(f&63)];continue}if(f<55296||f>=57344){b+=internals.hexTable[224|(f>>12)]+internals.hexTable[128|((f>>6)&63)]+internals.hexTable[128|(f&63)];continue}++d;f=65536+(((f&1023)<<10)|(e.charCodeAt(d)&1023));b+=internals.hexTable[240|(f>>18)]+internals.hexTable[128|((f>>12)&63)]+internals.hexTable[128|((f>>6)&63)]+internals.hexTable[128|(f&63)]}return b};exports.compact=function(j,c){if(typeof j!=="object"||j===null){return j}c=c||[];var g=c.indexOf(j);if(g!==-1){return c[g]}c.push(j);if(Array.isArray(j)){var a=[];for(var e=0,b=j.length;e<b;++e){if(typeof j[e]!=="undefined"){a.push(j[e])}}return a}var f=Object.keys(j);for(e=0,b=f.length;e<b;++e){var d=f[e];j[d]=exports.compact(j[d],c)}return j};exports.isRegExp=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"};exports.isBuffer=function(a){if(a===null||typeof a==="undefined"){return false}return !!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))};