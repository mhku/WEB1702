var fs=require("fs"),Q=require("q"),util=require("./util");module.exports=function(a,c){var b=this;return Q().then(function(){if(!a){throw new Error("A platform must be specified")}c=c||{};var d=findProjectRoot(c.root);b.projectRoot=d;c.root=util.getPlatformWwwRoot(d,a);if(!fs.existsSync(c.root)){throw new Error("Project does not include the specified platform: "+a)}return b.launchServer(c)})};function findProjectRoot(b){var a=util.cordovaProjectRoot(b);if(!a){if(!b){throw new Error("Current directory does not appear to be in a Cordova project.")}else{throw new Error('Directory "'+b+'" does not appear to be in a Cordova project.')}}return a};