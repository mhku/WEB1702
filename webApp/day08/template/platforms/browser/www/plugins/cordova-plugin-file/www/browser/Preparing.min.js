cordova.define("cordova-plugin-file.Preparing",function(b,a,c){(function(){if(!b("./isChrome")()){return}var i=b("cordova/channel");var g=b("./FileError");var f=5*1024*1024;var h=new Event("filePluginIsReady");var d=false;var e=false;var k=false;if(!window.requestFileSystem){window.requestFileSystem=function(o,n,p,m){if(m){m("Not supported")}}}else{window.requestFileSystem(window.TEMPORARY,1,j,function(){})}if(!window.resolveLocalFileSystemURL){window.resolveLocalFileSystemURL=function(n,o,m){if(m){m("Not supported")}}}var l=window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL;window.resolveLocalFileSystemURL=function(o,q,n){if(o.trim().substr(0,7)==="cdvfile"){if(o.indexOf("cdvfile://localhost")!==-1){var s=o.indexOf("persistent");var r=o.indexOf("temporary");var p="filesystem:file:///";if(location.protocol!=="file:"){p="filesystem:"+location.origin+"/"}var m;if(s!==-1){m=p+"persistent"+o.substr(s+10);l(m,q,n);return}if(r!==-1){m=p+"temporary"+o.substr(r+9);l(m,q,n);return}}if(n){n(new g(g.ENCODING_ERR))}}else{l(o,q,n)}};function j(m){m.root.getFile("todelete_658674_833_4_cdv",{create:true},function(q){var o=Object.getPrototypeOf(q);var p=Object.getPrototypeOf(o);var n=p.toURL;p.toURL=function(){var r=n.call(this);if(this.isDirectory&&r.substr(-1)!=="/"){return r+"/"}return r};p.toNativeURL=function(){console.warn("DEPRECATED: Update your code to use 'toURL'");return this.toURL()};p.toInternalURL=function(){if(this.toURL().indexOf("persistent")>-1){return"cdvfile://localhost/persistent"+this.fullPath}if(this.toURL().indexOf("temporary")>-1){return"cdvfile://localhost/temporary"+this.fullPath}};p.setMetadata=function(s,r){if(r){r("Not supported")}};q.createWriter(function(r){var t=r.write;var s=Object.getPrototypeOf(r);s.write=function(v){if(v instanceof Blob){t.apply(this,[v])}else{var u=new Blob([v]);t.apply(this,[u])}};q.remove(function(){d=true},function(){})})})}window.initPersistentFileSystem=function(n,o,m){if(navigator.webkitPersistentStorage){navigator.webkitPersistentStorage.requestQuota(n,o,m);return}m("This browser does not support this function")};window.isFilePluginReadyRaised=function(){return k};window.initPersistentFileSystem(f,function(){console.log("Persistent fs quota granted");e=true},function(m){console.log("Error occured while trying to request Persistent fs quota: "+JSON.stringify(m))});i.onCordovaReady.subscribe(function(){function m(){if(d&&e){window.dispatchEvent(h);k=true}else{setTimeout(m,100)}}m()},false)})()});