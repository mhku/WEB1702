/*!
 * Cookies.js - 0.4.0
 *
 * Copyright (c) 2014, Scott Hamper
 * Licensed under the MIT license,
 * http://www.opensource.org/licenses/MIT
 */
(function(b){var a=function(d,e,c){return arguments.length===1?a.get(d):a.set(d,e,c)};a._document=document;a._navigator=navigator;a.defaults={path:"/"};a.get=function(c){if(a._cachedDocumentCookie!==a._document.cookie){a._renewCache()}return a._cache[c]};a.set=function(d,e,c){c=a._getExtendedOptions(c);c.expires=a._getExpiresDate(e===b?-1:c.expires);a._document.cookie=a._generateCookieString(d,e,c);return a};a.expire=function(d,c){return a.set(d,b,c)};a._getExtendedOptions=function(c){return{path:c&&c.path||a.defaults.path,domain:c&&c.domain||a.defaults.domain,expires:c&&c.expires||a.defaults.expires,secure:c&&c.secure!==b?c.secure:a.defaults.secure}};a._isValidDate=function(c){return Object.prototype.toString.call(c)==="[object Date]"&&!isNaN(c.getTime())};a._getExpiresDate=function(c,d){d=d||new Date();switch(typeof c){case"number":c=new Date(d.getTime()+c*1000);break;case"string":c=new Date(c);break}if(c&&!a._isValidDate(c)){throw new Error("`expires` parameter cannot be converted to a valid Date instance")}return c};a._generateCookieString=function(d,f,c){d=d.replace(/[^#$&+\^`|]/g,encodeURIComponent);d=d.replace(/\(/g,"%28").replace(/\)/g,"%29");f=(f+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);c=c||{};var e=d+"="+f;e+=c.path?";path="+c.path:"";e+=c.domain?";domain="+c.domain:"";e+=c.expires?";expires="+c.expires.toUTCString():"";e+=c.secure?";secure":"";return e};a._getCookieObjectFromString=function(c){var e={};var g=c?c.split("; "):[];for(var d=0;d<g.length;d++){var f=a._getKeyValuePairFromCookieString(g[d]);if(e[f.key]===b){e[f.key]=f.value}}return e};a._getKeyValuePairFromCookieString=function(c){var d=c.indexOf("=");d=d<0?c.length:d;return{key:decodeURIComponent(c.substr(0,d)),value:decodeURIComponent(c.substr(d+1))}};a._renewCache=function(){a._cache=a._getCookieObjectFromString(a._document.cookie);a._cachedDocumentCookie=a._document.cookie};a._areEnabled=function(){var d="cookies.js";var c=a.set(d,1).get(d)==="1";a.expire(d);return c};a.enabled=a._areEnabled();if(typeof define==="function"&&define.amd){define(function(){return a})}else{if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=a}exports.Cookies=a}else{window.Cookies=a}}})();