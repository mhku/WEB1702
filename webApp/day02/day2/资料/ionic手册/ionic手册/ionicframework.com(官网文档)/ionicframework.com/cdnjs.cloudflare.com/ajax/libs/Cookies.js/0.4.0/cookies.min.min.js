/*!
 * Cookies.js - 0.4.0
 *
 * Copyright (c) 2014, Scott Hamper
 * Licensed under the MIT license,
 * http://www.opensource.org/licenses/MIT
 */
;!function(b){var a=function(c,f,d){return 1===arguments.length?a.get(c):a.set(c,f,d)};a._document=document,a._navigator=navigator,a.defaults={path:"/"},a.get=function(c){return a._cachedDocumentCookie!==a._document.cookie&&a._renewCache(),a._cache[c]},a.set=function(e,d,c){return c=a._getExtendedOptions(c),c.expires=a._getExpiresDate(d===b?-1:c.expires),a._document.cookie=a._generateCookieString(e,d,c),a},a.expire=function(d,c){return a.set(d,b,c)},a._getExtendedOptions=function(c){return{path:c&&c.path||a.defaults.path,domain:c&&c.domain||a.defaults.domain,expires:c&&c.expires||a.defaults.expires,secure:c&&c.secure!==b?c.secure:a.defaults.secure}},a._isValidDate=function(c){return"[object Date]"===Object.prototype.toString.call(c)&&!isNaN(c.getTime())},a._getExpiresDate=function(c,d){switch(d=d||new Date,typeof c){case"number":c=new Date(d.getTime()+1000*c);break;case"string":c=new Date(c)}if(c&&!a._isValidDate(c)){throw new Error("`expires` parameter cannot be converted to a valid Date instance")}return c},a._generateCookieString=function(d,c,g){d=d.replace(/[^#$&+\^`|]/g,encodeURIComponent),d=d.replace(/\(/g,"%28").replace(/\)/g,"%29"),c=(c+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),g=g||{};var f=d+"="+c;return f+=g.path?";path="+g.path:"",f+=g.domain?";domain="+g.domain:"",f+=g.expires?";expires="+g.expires.toUTCString():"",f+=g.secure?";secure":""},a._getCookieObjectFromString=function(g){for(var f={},e=g?g.split("; "):[],d=0;d<e.length;d++){var c=a._getKeyValuePairFromCookieString(e[d]);f[c.key]===b&&(f[c.key]=c.value)}return f},a._getKeyValuePairFromCookieString=function(d){var c=d.indexOf("=");return c=0>c?d.length:c,{key:decodeURIComponent(d.substr(0,c)),value:decodeURIComponent(d.substr(c+1))}},a._renewCache=function(){a._cache=a._getCookieObjectFromString(a._document.cookie),a._cachedDocumentCookie=a._document.cookie},a._areEnabled=function(){var c="cookies.js",d="1"===a.set(c,1).get(c);return a.expire(c),d},a.enabled=a._areEnabled(),"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.Cookies=a):window.Cookies=a}();