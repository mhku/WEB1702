<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
<script>
  //先判断当前浏览器的数组原型中是否包含indexOf
  if(!("indexOf" in Array.prototype)){
    document.write("不支持indexOf<br>");
    //如果不包含就手动向数组原型中添加一个自定义indexOf
    Array.prototype.indexOf=
      function(val,fromi){
        document.write(
          "调用自定义的indexOf方法<br>");
        //万一没有传入fromi，则默认从0开始
        fromi=fromi||0;
        for(var i=fromi;
            i<this.length;
            i++){
          if(this[i]===val) return i;
        }
        return -1;
      };
  }else
    document.write("支持indexOf<br>");

  //在数组中查找指定元素的位置
  var arr1=[1,2,3,4,2,1,3];
  var arr2=[1,2,3,4,2,1,3];
  var arr3=[1,2,3,4,2,1,3];
        //  0 1 2 3 4 5 6
//  for(var i=0;i<arr.length;i++){
//    if(arr[i]==2) console.log(i);
//  }
  document.write(
    arr1.indexOf(2/*,0*/)+"<br>"+//1
    arr2.indexOf(2,2)+"<br>"+    //4
    arr3.indexOf(2,5)+"<br>"     //-1
  );
  //console.dir(Array.prototype);
</script>
</body>
</html>